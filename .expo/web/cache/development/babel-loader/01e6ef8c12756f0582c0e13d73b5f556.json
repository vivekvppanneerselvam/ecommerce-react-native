{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport serverCall from \"../../modules/serverCall\";\nimport Auth from \"../../modules/Auth\";\nexport function getCartByUserId() {\n  var userId;\n  return _regeneratorRuntime.async(function getCartByUserId$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(Auth.getUserId());\n\n        case 2:\n          userId = _context.sent;\n          return _context.abrupt(\"return\", function (dispatch) {\n            dispatch({\n              type: GET_CART_BY_USERID_BEGIN\n            });\n            return serverCall({\n              method: 'GET',\n              url: \"users/\" + userId + \"/cart\"\n            }).then(function (res) {\n              dispatch({\n                type: GET_CART_BY_USERID_SUCCESS,\n                payload: res\n              });\n              return res;\n            }).catch(function (error) {\n              dispatch({\n                type: GET_CART_BY_USERID_FAIL,\n                payload: {\n                  error: error\n                }\n              });\n              return error;\n            });\n          });\n\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\nexport var postCart = function postCart(productId, increase, decrease) {\n  return _regeneratorRuntime.async(function postCart$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          return _context3.abrupt(\"return\", function _callee(dispatch) {\n            var userId;\n            return _regeneratorRuntime.async(function _callee$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    _context2.next = 2;\n                    return _regeneratorRuntime.awrap(Auth.getUserId());\n\n                  case 2:\n                    userId = _context2.sent;\n                    dispatch({\n                      type: POST_CART_BEGIN\n                    });\n                    return _context2.abrupt(\"return\", serverCall({\n                      method: 'POST',\n                      url: \"users/\" + userId + \"/cart\",\n                      data: {\n                        userId: userId,\n                        productId: productId,\n                        increase: increase,\n                        decrease: decrease\n                      }\n                    }).then(function (res) {\n                      dispatch({\n                        type: POST_CART_SUCCESS,\n                        payload: res\n                      });\n                      return res;\n                    }).catch(function (error) {\n                      dispatch({\n                        type: POST_CART_FAIL,\n                        payload: {\n                          error: error\n                        }\n                      });\n                      return error;\n                    }));\n\n                  case 5:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, null, null, null, Promise);\n          });\n\n        case 1:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var POST_CART_BEGIN = 'POST_CART_BEGIN';\nexport var POST_CART_SUCCESS = 'POST_CART_SUCCESS';\nexport var POST_CART_FAIL = 'POST_CART_FAIL';\nexport var GET_CART_BY_USERID_BEGIN = 'GET_CART_BY_USERID_BEGIN';\nexport var GET_CART_BY_USERID_SUCCESS = 'GET_CART_BY_USERID_SUCCESS';\nexport var GET_CART_BY_USERID_FAIL = 'GET_CART_BY_USERID_FAIL';","map":{"version":3,"sources":["D:/WS/reactws/ReactNativeEcommerce/src/redux/action/cartAction.js"],"names":["serverCall","Auth","getCartByUserId","getUserId","userId","dispatch","type","GET_CART_BY_USERID_BEGIN","method","url","then","res","GET_CART_BY_USERID_SUCCESS","payload","catch","error","GET_CART_BY_USERID_FAIL","postCart","productId","increase","decrease","POST_CART_BEGIN","data","POST_CART_SUCCESS","POST_CART_FAIL"],"mappings":";AAAA,OAAOA,UAAP;AACA,OAAOC,IAAP;AAGA,OAAO,SAAeC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACcD,IAAI,CAACE,SAAL,EADd;;AAAA;AACDC,UAAAA,MADC;AAAA,2CAEE,UAAAC,QAAQ,EAAI;AACjBA,YAAAA,QAAQ,CAAC;AAAEC,cAAAA,IAAI,EAAEC;AAAR,aAAD,CAAR;AACA,mBAAOP,UAAU,CAAC;AAAEQ,cAAAA,MAAM,EAAE,KAAV;AAAiBC,cAAAA,GAAG,aAAWL,MAAX;AAApB,aAAD,CAAV,CACJM,IADI,CACC,UAAAC,GAAG,EAAI;AACXN,cAAAA,QAAQ,CAAC;AAAEC,gBAAAA,IAAI,EAAEM,0BAAR;AAAoCC,gBAAAA,OAAO,EAAEF;AAA7C,eAAD,CAAR;AACA,qBAAOA,GAAP;AACD,aAJI,EAIFG,KAJE,CAII,UAAAC,KAAK,EAAI;AAChBV,cAAAA,QAAQ,CAAC;AAAEC,gBAAAA,IAAI,EAAEU,uBAAR;AAAiCH,gBAAAA,OAAO,EAAE;AAAEE,kBAAAA,KAAK,EAALA;AAAF;AAA1C,eAAD,CAAR;AACA,qBAAOA,KAAP;AACD,aAPI,CAAP;AAQD,WAZI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeP,OAAO,IAAME,QAAQ,GAAG,SAAXA,QAAW,CAAOC,SAAP,EAAkBC,QAAlB,EAA4BC,QAA5B;AAAA;AAAA;AAAA;AAAA;AAAA,4CAAyC,iBAAOf,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDAC5CJ,IAAI,CAACE,SAAL,EAD4C;;AAAA;AAC3DC,oBAAAA,MAD2D;AAE/DC,oBAAAA,QAAQ,CAAC;AACPC,sBAAAA,IAAI,EAAEe;AADC,qBAAD,CAAR;AAF+D,sDAKxDrB,UAAU,CAAC;AAChBQ,sBAAAA,MAAM,EAAE,MADQ;AAEhBC,sBAAAA,GAAG,aAAWL,MAAX,UAFa;AAGhBkB,sBAAAA,IAAI,EAAE;AACJlB,wBAAAA,MAAM,EAANA,MADI;AAEJc,wBAAAA,SAAS,EAATA,SAFI;AAGJC,wBAAAA,QAAQ,EAARA,QAHI;AAIJC,wBAAAA,QAAQ,EAARA;AAJI;AAHU,qBAAD,CAAV,CAUJV,IAVI,CAUC,UAAAC,GAAG,EAAI;AACXN,sBAAAA,QAAQ,CAAC;AACPC,wBAAAA,IAAI,EAAEiB,iBADC;AAEPV,wBAAAA,OAAO,EAAEF;AAFF,uBAAD,CAAR;AAIA,6BAAOA,GAAP;AACD,qBAhBI,EAiBJG,KAjBI,CAiBE,UAAAC,KAAK,EAAI;AACdV,sBAAAA,QAAQ,CAAC;AACPC,wBAAAA,IAAI,EAAEkB,cADC;AAEPX,wBAAAA,OAAO,EAAE;AAAEE,0BAAAA,KAAK,EAALA;AAAF;AAFF,uBAAD,CAAR;AAIA,6BAAOA,KAAP;AACD,qBAvBI,CALwD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAzC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAjB;AA+BP,OAAO,IAAMM,eAAe,GAAG,iBAAxB;AACP,OAAO,IAAME,iBAAiB,GAAG,mBAA1B;AACP,OAAO,IAAMC,cAAc,GAAG,gBAAvB;AAEP,OAAO,IAAMjB,wBAAwB,GAAG,0BAAjC;AACP,OAAO,IAAMK,0BAA0B,GAAG,4BAAnC;AACP,OAAO,IAAMI,uBAAuB,GAAG,yBAAhC","sourcesContent":["import serverCall from '../../modules/serverCall'\r\nimport Auth from '../../modules/Auth';\r\n\r\n\r\nexport async function getCartByUserId() {\r\n  let userId = await Auth.getUserId()\r\n  return dispatch => {\r\n    dispatch({ type: GET_CART_BY_USERID_BEGIN })\r\n    return serverCall({ method: 'GET', url: `users/${userId}/cart` })\r\n      .then(res => {\r\n        dispatch({ type: GET_CART_BY_USERID_SUCCESS, payload: res })\r\n        return res\r\n      }).catch(error => {\r\n        dispatch({ type: GET_CART_BY_USERID_FAIL, payload: { error } })\r\n        return error\r\n      })\r\n  }\r\n}\r\n\r\nexport const postCart = async (productId, increase, decrease) => async (dispatch) => {\r\n  let userId = await Auth.getUserId()\r\n  dispatch({\r\n    type: POST_CART_BEGIN\r\n  })\r\n  return serverCall({\r\n    method: 'POST',\r\n    url: `users/${userId}/cart`,\r\n    data: {\r\n      userId,\r\n      productId,\r\n      increase,\r\n      decrease\r\n    }\r\n  })\r\n    .then(res => {\r\n      dispatch({\r\n        type: POST_CART_SUCCESS,\r\n        payload: res\r\n      })\r\n      return res\r\n    })\r\n    .catch(error => {\r\n      dispatch({\r\n        type: POST_CART_FAIL,\r\n        payload: { error }\r\n      })\r\n      return error\r\n    })\r\n}\r\n\r\nexport const POST_CART_BEGIN = 'POST_CART_BEGIN'\r\nexport const POST_CART_SUCCESS = 'POST_CART_SUCCESS'\r\nexport const POST_CART_FAIL = 'POST_CART_FAIL'\r\n\r\nexport const GET_CART_BY_USERID_BEGIN = 'GET_CART_BY_USERID_BEGIN'\r\nexport const GET_CART_BY_USERID_SUCCESS = 'GET_CART_BY_USERID_SUCCESS'\r\nexport const GET_CART_BY_USERID_FAIL = 'GET_CART_BY_USERID_FAIL'"]},"metadata":{},"sourceType":"module"}