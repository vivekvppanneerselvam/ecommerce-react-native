{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\WS\\\\reactws\\\\ReactNativeEcommerce\\\\App.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport AsyncStorage from '@react-native-community/async-storage';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport { createDrawerNavigator } from '@react-navigation/drawer';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { connect, Provider } from 'react-redux';\nimport { StackNavigationRef } from \"./src/modules/Navigation/StackNavigation\";\nimport { createMaterialTopTabNavigator } from '@react-navigation/material-top-tabs';\nimport store from \"./src/redux/store\";\nimport Icon from \"@expo/vector-icons/Ionicons\";\nimport Login from \"./src/views/Login\";\nimport SignIn from \"./src/views/SignIn\";\nimport Register from \"./src/views/Register\";\nimport Home from \"./src/views/Home\";\nimport Category from \"./src/views/Category\";\nimport Detail from \"./src/views/Detail\";\nimport Basket from \"./src/views/Basket\";\nimport EditBasket from \"./src/views/EditBasket\";\nimport Address from \"./src/views/Address\";\nimport Shipping from \"./src/views/Shipping\";\nimport Payment from \"./src/views/Payment\";\nimport TermsAndConditions from \"./src/views/TermsAndConditions\";\nimport CreditCard from \"./src/views/CreditCard\";\nimport CustomDrawerComponent from \"./src/components/CustomDrawerComponent\";\nimport { AuthContext } from \"./src/helpers/index\";\nimport { NavigationContainer, DefaultTheme as NavigationDefaultTheme, DarkTheme as NavigationDarkTheme } from '@react-navigation/native';\nvar Stack = createStackNavigator();\nvar Drawer = createDrawerNavigator();\nvar Tab = createMaterialTopTabNavigator();\n\nfunction App(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isDarkTheme = _useState2[0],\n      setIsDarkTheme = _useState2[1];\n\n  var initialLoginState = {\n    isLoading: true,\n    userName: null,\n    userToken: null\n  };\n\n  var CustomDefaultTheme = _objectSpread(_objectSpread({}, NavigationDefaultTheme), {}, {\n    colors: _objectSpread(_objectSpread({}, NavigationDefaultTheme.colors), {}, {\n      background: '#ffffff',\n      text: '#333333'\n    })\n  });\n\n  var CustomDarkTheme = _objectSpread(_objectSpread({}, NavigationDarkTheme), {}, {\n    colors: _objectSpread(_objectSpread({}, NavigationDarkTheme.colors), {}, {\n      background: '#333333',\n      text: '#ffffff'\n    })\n  });\n\n  var theme = isDarkTheme ? CustomDarkTheme : CustomDefaultTheme;\n\n  var loginReducer = function loginReducer(prevState, action) {\n    switch (action.type) {\n      case 'RETRIEVE_TOKEN':\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          userToken: action.token,\n          isLoading: false\n        });\n\n      case 'LOGIN':\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          userName: action.id,\n          userToken: action.token,\n          isLoading: false\n        });\n\n      case 'LOGOUT':\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          userName: null,\n          userToken: null,\n          isLoading: false\n        });\n\n      case 'REGISTER':\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          userName: action.id,\n          userToken: action.token,\n          isLoading: false\n        });\n    }\n  };\n\n  var _React$useReducer = React.useReducer(loginReducer, initialLoginState),\n      _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n      loginState = _React$useReducer2[0],\n      dispatch = _React$useReducer2[1];\n\n  var authContext = React.useMemo(function () {\n    return {\n      signIn: function signIn(foundUser) {\n        var userToken, userName;\n        return _regeneratorRuntime.async(function signIn$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                userToken = foundUser['user_token'].token;\n                userName = foundUser['user_token'].user_id;\n                _context.prev = 2;\n                _context.next = 5;\n                return _regeneratorRuntime.awrap(AsyncStorage.setItem('userToken', userToken));\n\n              case 5:\n                _context.next = 10;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](2);\n                console.log(_context.t0);\n\n              case 10:\n                dispatch({\n                  type: 'LOGIN',\n                  id: userName,\n                  token: userToken\n                });\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, null, null, [[2, 7]], Promise);\n      },\n      signOut: function signOut() {\n        return _regeneratorRuntime.async(function signOut$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return _regeneratorRuntime.awrap(AsyncStorage.removeItem('userToken'));\n\n              case 3:\n                _context2.next = 8;\n                break;\n\n              case 5:\n                _context2.prev = 5;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.log(_context2.t0);\n\n              case 8:\n                dispatch({\n                  type: 'LOGOUT'\n                });\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, null, null, [[0, 5]], Promise);\n      },\n      signUp: function signUp() {},\n      toggleTheme: function toggleTheme() {\n        setIsDarkTheme(function (isDarkTheme) {\n          return !isDarkTheme;\n        });\n      }\n    };\n  }, []);\n  useEffect(function () {\n    setTimeout(function _callee() {\n      var userToken;\n      return _regeneratorRuntime.async(function _callee$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              userToken = null;\n              _context3.prev = 1;\n              _context3.next = 4;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('userToken'));\n\n            case 4:\n              userToken = _context3.sent;\n              _context3.next = 10;\n              break;\n\n            case 7:\n              _context3.prev = 7;\n              _context3.t0 = _context3[\"catch\"](1);\n              console.log(_context3.t0);\n\n            case 10:\n              dispatch({\n                type: 'RETRIEVE_TOKEN',\n                token: userToken\n              });\n\n            case 11:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, [[1, 7]], Promise);\n    }, 1000);\n  }, []);\n\n  if (loginState.isLoading) {\n    return React.createElement(View, {\n      style: {\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 7\n      }\n    }, React.createElement(ActivityIndicator, {\n      size: \"large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  console.log(loginState.userToken);\n  return React.createElement(Provider, {\n    store: store,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 5\n    }\n  }, React.createElement(AuthContext.Provider, {\n    value: authContext,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }\n  }, React.createElement(NavigationContainer, {\n    ref: StackNavigationRef,\n    styles: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }, loginState.userToken !== null ? React.createElement(DrawerNavigator, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }) : React.createElement(RootStackScreen, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 15\n    }\n  }))));\n}\n\nexport default App;\n\nfunction MainNavigator(_ref) {\n  var navigation = _ref.navigation;\n  return React.createElement(Stack.Navigator, {\n    screenOptions: {\n      headerLeft: function headerLeft() {\n        return React.createElement(NavigationDrawerStructure, {\n          navigationProps: navigation,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 25\n          }\n        });\n      },\n      headerStyle: {\n        backgroundColor: '#f4511e'\n      },\n      headerTintColor: '#fff',\n      headerTitleStyle: {\n        fontWeight: 'bold'\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 5\n    }\n  }, React.createElement(Stack.Screen, {\n    name: \"Home\",\n    component: Home,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Category\",\n    component: Category,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Basket\",\n    component: Basket,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Checkout\",\n    component: CheckoutTabNavigator,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Detail\",\n    component: Detail,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"TermsAndConditions\",\n    component: TermsAndConditions,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"EditBasket\",\n    component: EditBasket,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction CheckoutTabNavigator() {\n  return React.createElement(Tab.Navigator, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 5\n    }\n  }, React.createElement(Tab.Screen, {\n    name: \"Address\",\n    component: Address,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }\n  }), React.createElement(Tab.Screen, {\n    name: \"Shipping\",\n    component: Shipping,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }\n  }), React.createElement(Tab.Screen, {\n    name: \"Payment\",\n    component: PaymentStackNavigator,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction PaymentStackNavigator() {\n  return React.createElement(Stack.Navigator, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 5\n    }\n  }, React.createElement(Stack.Screen, {\n    name: \"Payment\",\n    component: Payment,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"CreditCard\",\n    component: CreditCard,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }\n  }));\n}\n\nvar NavigationDrawerStructure = function NavigationDrawerStructure(props) {\n  var toggleDrawer = function toggleDrawer() {\n    props.navigationProps.toggleDrawer();\n  };\n\n  return React.createElement(View, {\n    style: {\n      flexDirection: 'row'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 5\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return toggleDrawer();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }\n  }, React.createElement(Image, {\n    source: {\n      uri: 'https://raw.githubusercontent.com/AboutReact/sampleresource/master/drawerWhite.png'\n    },\n    style: {\n      width: 25,\n      height: 25,\n      marginLeft: 5\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 9\n    }\n  })));\n};\n\nfunction DrawerNavigator() {\n  return React.createElement(Drawer.Navigator, {\n    drawerContentOptions: {\n      activeTintColor: '#e91e63',\n      itemStyle: {\n        marginVertical: 30\n      }\n    },\n    drawerContent: function drawerContent(props) {\n      return React.createElement(CustomDrawerComponent, _extends({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 32\n        }\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 5\n    }\n  }, React.createElement(Drawer.Screen, {\n    name: \"Home\",\n    component: MainNavigator,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }\n  }));\n}\n\nvar RootStackScreen = function RootStackScreen(_ref2) {\n  var navigation = _ref2.navigation;\n  return React.createElement(Stack.Navigator, {\n    headerMode: \"none\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 3\n    }\n  }, React.createElement(Stack.Screen, {\n    name: \"Login\",\n    component: Login,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 5\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"SignIn\",\n    component: SignIn,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 5\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Register\",\n    component: Register,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});","map":{"version":3,"sources":["D:/WS/reactws/ReactNativeEcommerce/App.js"],"names":["React","useState","useEffect","AsyncStorage","createStackNavigator","createDrawerNavigator","connect","Provider","StackNavigationRef","createMaterialTopTabNavigator","store","Icon","Login","SignIn","Register","Home","Category","Detail","Basket","EditBasket","Address","Shipping","Payment","TermsAndConditions","CreditCard","CustomDrawerComponent","AuthContext","NavigationContainer","DefaultTheme","NavigationDefaultTheme","DarkTheme","NavigationDarkTheme","Stack","Drawer","Tab","App","props","isDarkTheme","setIsDarkTheme","initialLoginState","isLoading","userName","userToken","CustomDefaultTheme","colors","background","text","CustomDarkTheme","theme","loginReducer","prevState","action","type","token","id","useReducer","loginState","dispatch","authContext","useMemo","signIn","foundUser","user_id","setItem","console","log","signOut","removeItem","signUp","toggleTheme","setTimeout","getItem","flex","justifyContent","alignItems","styles","container","MainNavigator","navigation","headerLeft","headerStyle","backgroundColor","headerTintColor","headerTitleStyle","fontWeight","CheckoutTabNavigator","PaymentStackNavigator","NavigationDrawerStructure","toggleDrawer","navigationProps","flexDirection","uri","width","height","marginLeft","DrawerNavigator","activeTintColor","itemStyle","marginVertical","RootStackScreen","StyleSheet","create"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Dimensions } from \"react-native\";\r\n/* import {\r\n  createStackNavigator,\r\n  createSwitchNavigator,\r\n  createAppContainer,\r\n  createDrawerNavigator,\r\n  createMaterialTopTabNavigator\r\n} from \"react-navigation\"; */\r\n\r\nimport { View, Text, Button, ActivityIndicator, TouchableOpacity, Image } from \"react-native\";\r\nimport AsyncStorage from '@react-native-community/async-storage';\r\n//import { NavigationContainer } from '@react-navigation/native';\r\nimport { createStackNavigator } from '@react-navigation/stack';\r\nimport { createDrawerNavigator } from '@react-navigation/drawer';\r\nimport { StyleSheet } from 'react-native';\r\nimport { connect, Provider } from 'react-redux';\r\nimport { StackNavigationRef } from './src/modules/Navigation/StackNavigation';\r\nimport { createMaterialTopTabNavigator } from '@react-navigation/material-top-tabs';\r\nimport store from './src/redux/store';\r\nimport Icon from \"@expo/vector-icons/Ionicons\";\r\nimport Login from \"./src/views/Login\";\r\nimport SignIn from \"./src/views/SignIn\";\r\nimport Register from \"./src/views/Register\";\r\nimport Home from \"./src/views/Home\";\r\nimport Category from \"./src/views/Category\";\r\nimport Detail from \"./src/views/Detail\";\r\nimport Basket from \"./src/views/Basket\";\r\nimport EditBasket from \"./src/views/EditBasket\";\r\nimport Address from \"./src/views/Address\";\r\nimport Shipping from \"./src/views/Shipping\";\r\nimport Payment from \"./src/views/Payment\";\r\nimport TermsAndConditions from \"./src/views/TermsAndConditions\";\r\nimport CreditCard from \"./src/views/CreditCard\";\r\nimport CustomDrawerComponent from \"./src/components/CustomDrawerComponent\";\r\nimport { AuthContext } from './src/helpers/index'\r\nimport {\r\n  NavigationContainer, DefaultTheme as NavigationDefaultTheme,\r\n  DarkTheme as NavigationDarkTheme\r\n} from '@react-navigation/native';\r\n\r\n\r\n\r\nconst Stack = createStackNavigator();\r\nconst Drawer = createDrawerNavigator();\r\nconst Tab = createMaterialTopTabNavigator();\r\n\r\n\r\nfunction App(props) {\r\n  const [isDarkTheme, setIsDarkTheme] = useState(false);\r\n  const initialLoginState = { isLoading: true, userName: null, userToken: null, };\r\n  const CustomDefaultTheme = {\r\n    ...NavigationDefaultTheme,\r\n    colors: {\r\n      ...NavigationDefaultTheme.colors,\r\n      background: '#ffffff',\r\n      text: '#333333'\r\n    }\r\n  }\r\n  const CustomDarkTheme = {\r\n    ...NavigationDarkTheme,\r\n    colors: {\r\n      ...NavigationDarkTheme.colors,\r\n      background: '#333333',\r\n      text: '#ffffff'\r\n    }\r\n  }\r\n\r\n  const theme = isDarkTheme ? CustomDarkTheme : CustomDefaultTheme;\r\n\r\n  const loginReducer = (prevState, action) => {\r\n    switch (action.type) {\r\n      case 'RETRIEVE_TOKEN':\r\n        return { ...prevState, userToken: action.token, isLoading: false, };\r\n      case 'LOGIN':\r\n        return { ...prevState, userName: action.id, userToken: action.token, isLoading: false, };\r\n      case 'LOGOUT':\r\n        return { ...prevState, userName: null, userToken: null, isLoading: false, };\r\n      case 'REGISTER':\r\n        return { ...prevState, userName: action.id, userToken: action.token, isLoading: false, };\r\n    }\r\n  };\r\n\r\n  const [loginState, dispatch] = React.useReducer(loginReducer, initialLoginState);\r\n\r\n  const authContext = React.useMemo(() => ({\r\n    signIn: async (foundUser) => {\r\n      const userToken =foundUser['user_token'].token\r\n      const userName = foundUser['user_token'].user_id;\r\n      try {\r\n        await AsyncStorage.setItem('userToken', userToken);\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n      dispatch({ type: 'LOGIN', id: userName, token: userToken });\r\n    },\r\n    signOut: async () => {\r\n      try {\r\n        //await props.cleanUp()\r\n        await AsyncStorage.removeItem('userToken');\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n      dispatch({ type: 'LOGOUT' });\r\n    },\r\n    signUp: () => {\r\n\r\n    },\r\n    toggleTheme: () => {\r\n      setIsDarkTheme(isDarkTheme => !isDarkTheme);\r\n    }\r\n  }), []);\r\n\r\n  useEffect(() => {\r\n    setTimeout(async () => {\r\n      // setIsLoading(false);\r\n      let userToken;\r\n      userToken = null;\r\n      try {\r\n        userToken = await AsyncStorage.getItem('userToken');\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n      // console.log('user token: ', userToken);\r\n      dispatch({ type: 'RETRIEVE_TOKEN', token: userToken });\r\n    }, 1000);\r\n  }, []);\r\n\r\n  if (loginState.isLoading) {\r\n    return (\r\n      <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n        <ActivityIndicator size=\"large\" />\r\n      </View>\r\n    );\r\n  }\r\n\r\nconsole.log(loginState.userToken)\r\n  return (\r\n    <Provider store={store}>\r\n      <AuthContext.Provider value={authContext} >\r\n        <NavigationContainer ref={StackNavigationRef} styles={styles.container}>\r\n          {/* <StatusBar/> */}\r\n          {loginState.userToken !== null ? (\r\n            < DrawerNavigator />\r\n          ) : <RootStackScreen />}\r\n\r\n\r\n        </NavigationContainer>\r\n      </AuthContext.Provider>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App\r\n\r\n\r\nfunction MainNavigator({ navigation }) {\r\n  return (\r\n    <Stack.Navigator screenOptions={{\r\n      headerLeft: () => <NavigationDrawerStructure navigationProps={navigation} />,\r\n      headerStyle: {\r\n        backgroundColor: '#f4511e', //Set Header color\r\n      },\r\n      headerTintColor: '#fff', //Set Header text color\r\n      headerTitleStyle: {\r\n        fontWeight: 'bold', //Set Header text style\r\n      }\r\n    }}>\r\n\r\n      <Stack.Screen name=\"Home\" component={Home} />\r\n      <Stack.Screen name=\"Category\" component={Category} />\r\n      <Stack.Screen name=\"Basket\" component={Basket} />\r\n      <Stack.Screen name=\"Checkout\" component={CheckoutTabNavigator} />\r\n      <Stack.Screen name=\"Detail\" component={Detail} />\r\n      <Stack.Screen name=\"TermsAndConditions\" component={TermsAndConditions} />\r\n      <Stack.Screen name=\"EditBasket\" component={EditBasket} />\r\n\r\n    </Stack.Navigator>\r\n  );\r\n}\r\n\r\nfunction CheckoutTabNavigator() {\r\n  return (\r\n    <Tab.Navigator>\r\n      <Tab.Screen name=\"Address\" component={Address} />\r\n      <Tab.Screen name=\"Shipping\" component={Shipping} />\r\n      <Tab.Screen name=\"Payment\" component={PaymentStackNavigator} />\r\n    </Tab.Navigator>\r\n  );\r\n}\r\n\r\nfunction PaymentStackNavigator() {\r\n  return (\r\n    <Stack.Navigator>\r\n      <Stack.Screen name=\"Payment\" component={Payment} />\r\n      <Stack.Screen name=\"CreditCard\" component={CreditCard} />\r\n    </Stack.Navigator>\r\n  )\r\n}\r\n\r\nconst NavigationDrawerStructure = (props) => {\r\n  //Structure for the navigatin Drawer\r\n  const toggleDrawer = () => {\r\n    //Props to open/close the drawer\r\n    props.navigationProps.toggleDrawer();\r\n  };\r\n\r\n  return (\r\n    <View style={{ flexDirection: 'row' }}>\r\n      <TouchableOpacity onPress={() => toggleDrawer()}>\r\n        {/*Donute Button Image */}\r\n        <Image\r\n          source={{ uri: 'https://raw.githubusercontent.com/AboutReact/sampleresource/master/drawerWhite.png' }}\r\n          style={{ width: 25, height: 25, marginLeft: 5 }}\r\n        />\r\n      </TouchableOpacity>\r\n    </View>\r\n  );\r\n}\r\n\r\n\r\n\r\nfunction DrawerNavigator() {\r\n  return (\r\n    <Drawer.Navigator drawerContentOptions={{\r\n      activeTintColor: '#e91e63',\r\n      itemStyle: { marginVertical: 30 },\r\n    }} drawerContent={props => <CustomDrawerComponent {...props} />}>\r\n      <Drawer.Screen name=\"Home\" component={MainNavigator} />\r\n      {/* <Drawer.Screen name=\"TrackDriver\" component={TrackDriver} /> */}\r\n\r\n    </Drawer.Navigator>\r\n  )\r\n}\r\n\r\nconst RootStackScreen = ({ navigation }) => (\r\n  <Stack.Navigator headerMode='none'>\r\n    <Stack.Screen name=\"Login\" component={Login} />\r\n    <Stack.Screen name=\"SignIn\" component={SignIn} />\r\n    <Stack.Screen name=\"Register\" component={Register} />\r\n    {/* <Stack.Screen name=\"Home\" component={Home} /> */}\r\n  </Stack.Navigator>\r\n);\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n}); "]},"metadata":{},"sourceType":"module"}