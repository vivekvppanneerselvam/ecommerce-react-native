{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\WS\\\\reactws\\\\ReactNativeEcommerce\\\\src\\\\views\\\\OrderHistory.js\";\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport Auth from \"../modules/Auth\";\nimport { fetchOrderHistory } from \"../redux/action/orderHistoryAction\";\nimport { Map } from 'immutable';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\n\nfunction OrderHistory(props) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      history = _useState2[0],\n      setHistory = _useState2[1];\n\n  useEffect(function _callee() {\n    var user_id;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(Auth.getUserId());\n\n          case 2:\n            user_id = _context.sent;\n            props.fetchOrderHistory(user_id);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }, []);\n  useEffect(function () {\n    if (!props.history_loading) {\n      if (!props.history.toJS().error) {\n        setHistory(props.history.toJS().data);\n      }\n    }\n  }, [props.history_loading]);\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, React.createElement(FlatList, {\n    style: styles.contentList,\n    columnWrapperStyle: styles.listContainer,\n    data: history.length > 0 && history,\n    keyExtractor: function keyExtractor(item) {\n      return item.id;\n    },\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return React.createElement(TouchableOpacity, {\n        style: styles.card,\n        onPress: function onPress() {\n          onClickOrderId(item._id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 25\n        }\n      }, React.createElement(View, {\n        style: styles.cardContent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 29\n        }\n      }, React.createElement(Text, {\n        style: styles.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 33\n        }\n      }, \"Created Date:\", item.createDate), React.createElement(Text, {\n        style: styles.count,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 33\n        }\n      }, \"Priority:\", item.priority), React.createElement(Text, {\n        style: styles.count,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 33\n        }\n      }, \"Payment Method:\", item.paymentMethod, \"|Total Amount:\", item.totalAmount), React.createElement(TouchableOpacity, {\n        style: styles.followButton,\n        onPress: function onPress() {\n          return onClickOrderId(item._id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 33\n        }\n      }, React.createElement(Text, {\n        style: styles.followButtonText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 37\n        }\n      }, \"Explore now\"))));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }));\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    marginTop: 20,\n    backgroundColor: \"#ebf0f7\"\n  },\n  contentList: {\n    flex: 1\n  },\n  cardContent: {\n    marginLeft: 20,\n    marginTop: 10\n  },\n  image: {\n    width: 90,\n    height: 90,\n    borderRadius: 45,\n    borderWidth: 2,\n    borderColor: \"#ebf0f7\"\n  },\n  card: {\n    shadowColor: '#00000021',\n    shadowOffset: {\n      width: 0,\n      height: 6\n    },\n    shadowOpacity: 0.37,\n    shadowRadius: 7.49,\n    elevation: 12,\n    marginLeft: 20,\n    marginRight: 20,\n    marginTop: 20,\n    backgroundColor: \"white\",\n    padding: 10,\n    flexDirection: 'row',\n    borderRadius: 30\n  },\n  name: {\n    fontSize: 18,\n    flex: 1,\n    alignSelf: 'center',\n    color: \"#3399ff\",\n    fontWeight: 'bold'\n  },\n  count: {\n    fontSize: 14,\n    flex: 1,\n    alignSelf: 'center',\n    color: \"#6666ff\"\n  },\n  followButton: {\n    marginTop: 10,\n    height: 35,\n    width: 100,\n    padding: 10,\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderRadius: 30,\n    backgroundColor: \"white\",\n    borderWidth: 1,\n    borderColor: \"#dcdcdc\"\n  },\n  followButtonText: {\n    color: \"#dcdcdc\",\n    fontSize: 12\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    history_loading: state.OrderHistoryReducer.getIn(['history', 'loading'], true),\n    history: state.OrderHistoryReducer.getIn(['history'], Map)\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchOrderHistory: fetchOrderHistory\n})(OrderHistory);","map":{"version":3,"sources":["D:/WS/reactws/ReactNativeEcommerce/src/views/OrderHistory.js"],"names":["React","useState","useEffect","connect","Auth","fetchOrderHistory","Map","OrderHistory","props","history","setHistory","getUserId","user_id","history_loading","toJS","error","data","styles","container","contentList","listContainer","length","item","id","card","onClickOrderId","_id","cardContent","name","createDate","count","priority","paymentMethod","totalAmount","followButton","followButtonText","StyleSheet","create","flex","marginTop","backgroundColor","marginLeft","image","width","height","borderRadius","borderWidth","borderColor","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","marginRight","padding","flexDirection","fontSize","alignSelf","color","fontWeight","justifyContent","alignItems","mapStateToProps","state","OrderHistoryReducer","getIn"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Auth from '../modules/Auth'\r\nimport { fetchOrderHistory } from '../redux/action/orderHistoryAction'\r\nimport { Map } from 'immutable'\r\nimport {\r\n    StyleSheet,\r\n    Text,\r\n    View,\r\n    Image,\r\n    TouchableOpacity,\r\n    FlatList,\r\n    Dimensions,\r\n    Alert,\r\n    ScrollView\r\n} from 'react-native';\r\n//import nohistory from '../../assets/images/no-orders_2x.webp'\r\n//import paid from '../../assets/images/paid.png'\r\n\r\nfunction OrderHistory(props) {\r\n    const [history, setHistory] = useState([])\r\n    useEffect(async () => {\r\n        let user_id = await Auth.getUserId()\r\n        props.fetchOrderHistory(user_id)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (!props.history_loading) {\r\n            if (!props.history.toJS().error) {\r\n                setHistory(props.history.toJS().data)\r\n            }\r\n        }\r\n    }, [props.history_loading])\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <FlatList\r\n                style={styles.contentList}\r\n                columnWrapperStyle={styles.listContainer}\r\n                data={history.length > 0 && history}\r\n                keyExtractor={(item) => {\r\n                    return item.id;\r\n                }}\r\n                renderItem={({ item }) => {\r\n                    return (\r\n                        <TouchableOpacity style={styles.card} onPress={() => { onClickOrderId(item._id) }}>\r\n                            {/* <Image style={styles.image} source={{ uri: item.image }} /> */}\r\n                            <View style={styles.cardContent}>\r\n                                <Text style={styles.name}>Created Date:{item.createDate}</Text>\r\n                                <Text style={styles.count}>Priority:{item.priority}</Text>\r\n                                <Text style={styles.count}>Payment Method:{item.paymentMethod}|Total Amount:{item.totalAmount}</Text>\r\n                                <TouchableOpacity style={styles.followButton} onPress={() => onClickOrderId(item._id)}>\r\n                                    <Text style={styles.followButtonText}>Explore now</Text>\r\n                                </TouchableOpacity>\r\n                            </View>\r\n                        </TouchableOpacity>\r\n                    )\r\n                }} />\r\n        </View>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        marginTop: 20,\r\n        backgroundColor: \"#ebf0f7\"\r\n    },\r\n    contentList: {\r\n        flex: 1,\r\n    },\r\n    cardContent: {\r\n        marginLeft: 20,\r\n        marginTop: 10\r\n    },\r\n    image: {\r\n        width: 90,\r\n        height: 90,\r\n        borderRadius: 45,\r\n        borderWidth: 2,\r\n        borderColor: \"#ebf0f7\"\r\n    },\r\n\r\n    card: {\r\n        shadowColor: '#00000021',\r\n        shadowOffset: {\r\n            width: 0,\r\n            height: 6,\r\n        },\r\n        shadowOpacity: 0.37,\r\n        shadowRadius: 7.49,\r\n        elevation: 12,\r\n\r\n        marginLeft: 20,\r\n        marginRight: 20,\r\n        marginTop: 20,\r\n        backgroundColor: \"white\",\r\n        padding: 10,\r\n        flexDirection: 'row',\r\n        borderRadius: 30,\r\n    },\r\n\r\n    name: {\r\n        fontSize: 18,\r\n        flex: 1,\r\n        alignSelf: 'center',\r\n        color: \"#3399ff\",\r\n        fontWeight: 'bold'\r\n    },\r\n    count: {\r\n        fontSize: 14,\r\n        flex: 1,\r\n        alignSelf: 'center',\r\n        color: \"#6666ff\"\r\n    },\r\n    followButton: {\r\n        marginTop: 10,\r\n        height: 35,\r\n        width: 100,\r\n        padding: 10,\r\n        flexDirection: 'row',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        borderRadius: 30,\r\n        backgroundColor: \"white\",\r\n        borderWidth: 1,\r\n        borderColor: \"#dcdcdc\",\r\n    },\r\n    followButtonText: {\r\n        color: \"#dcdcdc\",\r\n        fontSize: 12,\r\n    },\r\n});\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        history_loading: state.OrderHistoryReducer.getIn(['history', 'loading'], true),\r\n        history: state.OrderHistoryReducer.getIn(['history'], Map),\r\n    }\r\n}\r\nexport default connect(mapStateToProps, { fetchOrderHistory })(OrderHistory)\r\n"]},"metadata":{},"sourceType":"module"}