{"ast":null,"code":"import { login } from \"../../modules/serverCall\";\nexport var postToken = function postToken(email, password) {\n  return function (dispatch) {\n    dispatch({\n      type: POST_TOKEN_BEGIN\n    });\n    return login(email, password).then(function (res) {\n      dispatch({\n        type: POST_TOKEN_SUCCESS,\n        payload: res\n      });\n      return res;\n    }).catch(function (error) {\n      dispatch({\n        type: POST_TOKEN_FAIL,\n        payload: {\n          error: error\n        }\n      });\n      throw error;\n    });\n  };\n};\nexport var insertToken = function insertToken() {\n  return function (dispatch) {\n    var token;\n\n    if (localStorage.getItem('auth')) {\n      token = JSON.parse(localStorage.getItem('auth'));\n      dispatch({\n        type: INSERT_TOKEN_SUCCESS,\n        payload: token\n      });\n    } else {\n      dispatch({\n        type: INSERT_TOKEN_FAIL\n      });\n    }\n  };\n};\nexport var POST_TOKEN_BEGIN = 'POST_TOKEN_BEGIN';\nexport var POST_TOKEN_SUCCESS = 'POST_TOKEN_SUCCESS';\nexport var POST_TOKEN_FAIL = 'POST_TOKEN_FAIL';\nexport var INSERT_TOKEN_SUCCESS = 'INSERT_TOKEN_SUCCESS';\nexport var INSERT_TOKEN_FAIL = 'INSERT_TOKEN_FAIL';","map":{"version":3,"sources":["D:/WS/reactws/ReactNativeEcommerce/src/redux/action/tokenAction.js"],"names":["login","postToken","email","password","dispatch","type","POST_TOKEN_BEGIN","then","res","POST_TOKEN_SUCCESS","payload","catch","error","POST_TOKEN_FAIL","insertToken","token","localStorage","getItem","JSON","parse","INSERT_TOKEN_SUCCESS","INSERT_TOKEN_FAIL"],"mappings":"AAAA,SAASA,KAAT;AAEA,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,KAAD,EAAQC,QAAR;AAAA,SAAqB,UAAAC,QAAQ,EAAI;AACxDA,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEC;AADC,KAAD,CAAR;AAGA,WAAON,KAAK,CAACE,KAAD,EAAQC,QAAR,CAAL,CACJI,IADI,CACC,UAAAC,GAAG,EAAI;AACXJ,MAAAA,QAAQ,CAAC;AACPC,QAAAA,IAAI,EAAEI,kBADC;AAEPC,QAAAA,OAAO,EAAEF;AAFF,OAAD,CAAR;AAMA,aAAOA,GAAP;AACD,KATI,EAUJG,KAVI,CAUE,UAAAC,KAAK,EAAI;AACdR,MAAAA,QAAQ,CAAC;AACPC,QAAAA,IAAI,EAAEQ,eADC;AAEPH,QAAAA,OAAO,EAAE;AAAEE,UAAAA,KAAK,EAALA;AAAF;AAFF,OAAD,CAAR;AAMA,YAAMA,KAAN;AACD,KAlBI,CAAP;AAmBD,GAvBwB;AAAA,CAAlB;AAyBP,OAAO,IAAME,WAAW,GAAG,SAAdA,WAAc;AAAA,SAAM,UAAAV,QAAQ,EAAI;AAC3C,QAAIW,KAAJ;;AACA,QAAIC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAJ,EAAkC;AAChCF,MAAAA,KAAK,GAAGG,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAR;AACAb,MAAAA,QAAQ,CAAC;AACPC,QAAAA,IAAI,EAAEe,oBADC;AAEPV,QAAAA,OAAO,EAAEK;AAFF,OAAD,CAAR;AAID,KAND,MAMO;AACLX,MAAAA,QAAQ,CAAC;AACPC,QAAAA,IAAI,EAAEgB;AADC,OAAD,CAAR;AAGD;AACF,GAb0B;AAAA,CAApB;AAeP,OAAO,IAAMf,gBAAgB,GAAG,kBAAzB;AACP,OAAO,IAAMG,kBAAkB,GAAG,oBAA3B;AACP,OAAO,IAAMI,eAAe,GAAG,iBAAxB;AACP,OAAO,IAAMO,oBAAoB,GAAG,sBAA7B;AACP,OAAO,IAAMC,iBAAiB,GAAG,mBAA1B","sourcesContent":["import { login } from '../../modules/serverCall'\r\n\r\nexport const postToken = (email, password) => dispatch => {\r\n  dispatch({\r\n    type: POST_TOKEN_BEGIN\r\n  })\r\n  return login(email, password)\r\n    .then(res => {\r\n      dispatch({\r\n        type: POST_TOKEN_SUCCESS,\r\n        payload: res\r\n      })\r\n      // console.log('tokenAction res');\r\n      // console.log(res);\r\n      return res\r\n    })\r\n    .catch(error => {\r\n      dispatch({\r\n        type: POST_TOKEN_FAIL,\r\n        payload: { error }\r\n      })\r\n      // console.log('tokenAction error');\r\n      // console.log(error.response);\r\n      throw error\r\n    })\r\n}\r\n\r\nexport const insertToken = () => dispatch => {\r\n  let token\r\n  if (localStorage.getItem('auth')) {\r\n    token = JSON.parse(localStorage.getItem('auth'))\r\n    dispatch({\r\n      type: INSERT_TOKEN_SUCCESS,\r\n      payload: token\r\n    })\r\n  } else {\r\n    dispatch({\r\n      type: INSERT_TOKEN_FAIL\r\n    })\r\n  }\r\n}\r\n\r\nexport const POST_TOKEN_BEGIN = 'POST_TOKEN_BEGIN'\r\nexport const POST_TOKEN_SUCCESS = 'POST_TOKEN_SUCCESS'\r\nexport const POST_TOKEN_FAIL = 'POST_TOKEN_FAIL'\r\nexport const INSERT_TOKEN_SUCCESS = 'INSERT_TOKEN_SUCCESS'\r\nexport const INSERT_TOKEN_FAIL = 'INSERT_TOKEN_FAIL'\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}