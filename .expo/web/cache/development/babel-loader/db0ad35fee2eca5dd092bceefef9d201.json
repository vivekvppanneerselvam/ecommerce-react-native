{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport serverCall from \"../../modules/serverCall\";\nimport Auth from \"../../modules/Auth\";\nexport function getCartByUserId() {\n  var userId;\n  return _regeneratorRuntime.async(function getCartByUserId$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(Auth.getUserId());\n\n        case 2:\n          userId = _context.sent;\n          return _context.abrupt(\"return\", function (dispatch) {\n            dispatch({\n              type: GET_CART_BY_USERID_BEGIN\n            });\n            return serverCall({\n              method: 'GET',\n              url: \"users/\" + userId + \"/cart\"\n            }).then(function (res) {\n              dispatch({\n                type: GET_CART_BY_USERID_SUCCESS,\n                payload: res\n              });\n              return res;\n            }).catch(function (error) {\n              dispatch({\n                type: GET_CART_BY_USERID_FAIL,\n                payload: {\n                  error: error\n                }\n              });\n              return error;\n            });\n          });\n\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\nexport function postCart(productId, increase, decrease) {\n  var userId;\n  return _regeneratorRuntime.async(function postCart$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return _regeneratorRuntime.awrap(Auth.getUserId());\n\n        case 2:\n          userId = _context2.sent;\n          return _context2.abrupt(\"return\", function (dispatch) {\n            dispatch({\n              type: POST_CART_BEGIN\n            });\n            return serverCall({\n              method: 'POST',\n              url: \"users/\" + userId + \"/cart\",\n              data: {\n                userId: userId,\n                productId: productId,\n                increase: increase,\n                decrease: decrease\n              }\n            }).then(function (res) {\n              dispatch({\n                type: POST_CART_SUCCESS,\n                payload: res\n              });\n              return res;\n            }).catch(function (error) {\n              dispatch({\n                type: POST_CART_FAIL,\n                payload: {\n                  error: error\n                }\n              });\n              return error;\n            });\n          });\n\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\nexport var POST_CART_BEGIN = 'POST_CART_BEGIN';\nexport var POST_CART_SUCCESS = 'POST_CART_SUCCESS';\nexport var POST_CART_FAIL = 'POST_CART_FAIL';\nexport var GET_CART_BY_USERID_BEGIN = 'GET_CART_BY_USERID_BEGIN';\nexport var GET_CART_BY_USERID_SUCCESS = 'GET_CART_BY_USERID_SUCCESS';\nexport var GET_CART_BY_USERID_FAIL = 'GET_CART_BY_USERID_FAIL';","map":{"version":3,"sources":["D:/WS/reactws/ReactNativeEcommerce/src/redux/action/cartAction.js"],"names":["serverCall","Auth","getCartByUserId","getUserId","userId","dispatch","type","GET_CART_BY_USERID_BEGIN","method","url","then","res","GET_CART_BY_USERID_SUCCESS","payload","catch","error","GET_CART_BY_USERID_FAIL","postCart","productId","increase","decrease","POST_CART_BEGIN","data","POST_CART_SUCCESS","POST_CART_FAIL"],"mappings":";AAAA,OAAOA,UAAP;AACA,OAAOC,IAAP;AAGA,OAAO,SAAeC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACcD,IAAI,CAACE,SAAL,EADd;;AAAA;AACDC,UAAAA,MADC;AAAA,2CAEE,UAAAC,QAAQ,EAAI;AACjBA,YAAAA,QAAQ,CAAC;AAAEC,cAAAA,IAAI,EAAEC;AAAR,aAAD,CAAR;AACA,mBAAOP,UAAU,CAAC;AAAEQ,cAAAA,MAAM,EAAE,KAAV;AAAiBC,cAAAA,GAAG,aAAWL,MAAX;AAApB,aAAD,CAAV,CACJM,IADI,CACC,UAAAC,GAAG,EAAI;AACXN,cAAAA,QAAQ,CAAC;AAAEC,gBAAAA,IAAI,EAAEM,0BAAR;AAAoCC,gBAAAA,OAAO,EAAEF;AAA7C,eAAD,CAAR;AACA,qBAAOA,GAAP;AACD,aAJI,EAIFG,KAJE,CAII,UAAAC,KAAK,EAAI;AAChBV,cAAAA,QAAQ,CAAC;AAAEC,gBAAAA,IAAI,EAAEU,uBAAR;AAAiCH,gBAAAA,OAAO,EAAE;AAAEE,kBAAAA,KAAK,EAALA;AAAF;AAA1C,eAAD,CAAR;AACA,qBAAOA,KAAP;AACD,aAPI,CAAP;AAQD,WAZI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeP,OAAO,SAAeE,QAAf,CAAwBC,SAAxB,EAAmCC,QAAnC,EAA6CC,QAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACcnB,IAAI,CAACE,SAAL,EADd;;AAAA;AACDC,UAAAA,MADC;AAAA,4CAEE,UAACC,QAAD,EAAc;AACnBA,YAAAA,QAAQ,CAAC;AACPC,cAAAA,IAAI,EAAEe;AADC,aAAD,CAAR;AAGA,mBAAOrB,UAAU,CAAC;AAChBQ,cAAAA,MAAM,EAAE,MADQ;AACAC,cAAAA,GAAG,aAAWL,MAAX,UADH;AAC6BkB,cAAAA,IAAI,EAAE;AACjDlB,gBAAAA,MAAM,EAANA,MADiD;AACzCc,gBAAAA,SAAS,EAATA,SADyC;AAC9BC,gBAAAA,QAAQ,EAARA,QAD8B;AACpBC,gBAAAA,QAAQ,EAARA;AADoB;AADnC,aAAD,CAAV,CAIJV,IAJI,CAIC,UAAAC,GAAG,EAAI;AACbN,cAAAA,QAAQ,CAAC;AAAEC,gBAAAA,IAAI,EAAEiB,iBAAR;AAA2BV,gBAAAA,OAAO,EAAEF;AAApC,eAAD,CAAR;AACA,qBAAOA,GAAP;AACD,aAPM,EAOJG,KAPI,CAOE,UAAAC,KAAK,EAAI;AAChBV,cAAAA,QAAQ,CAAC;AAAEC,gBAAAA,IAAI,EAAEkB,cAAR;AAAwBX,gBAAAA,OAAO,EAAE;AAAEE,kBAAAA,KAAK,EAALA;AAAF;AAAjC,eAAD,CAAR;AACA,qBAAOA,KAAP;AACD,aAVM,CAAP;AAWD,WAjBI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBP,OAAO,IAAMM,eAAe,GAAG,iBAAxB;AACP,OAAO,IAAME,iBAAiB,GAAG,mBAA1B;AACP,OAAO,IAAMC,cAAc,GAAG,gBAAvB;AAEP,OAAO,IAAMjB,wBAAwB,GAAG,0BAAjC;AACP,OAAO,IAAMK,0BAA0B,GAAG,4BAAnC;AACP,OAAO,IAAMI,uBAAuB,GAAG,yBAAhC","sourcesContent":["import serverCall from '../../modules/serverCall'\r\nimport Auth from '../../modules/Auth';\r\n\r\n\r\nexport async function getCartByUserId() {\r\n  let userId = await Auth.getUserId()\r\n  return dispatch => {\r\n    dispatch({ type: GET_CART_BY_USERID_BEGIN })\r\n    return serverCall({ method: 'GET', url: `users/${userId}/cart` })\r\n      .then(res => {\r\n        dispatch({ type: GET_CART_BY_USERID_SUCCESS, payload: res })\r\n        return res\r\n      }).catch(error => {\r\n        dispatch({ type: GET_CART_BY_USERID_FAIL, payload: { error } })\r\n        return error\r\n      })\r\n  }\r\n}\r\n\r\nexport async function postCart(productId, increase, decrease) {\r\n  let userId = await Auth.getUserId()\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: POST_CART_BEGIN\r\n    })\r\n    return serverCall({\r\n      method: 'POST', url: `users/${userId}/cart`, data: {\r\n        userId, productId, increase, decrease\r\n      }\r\n    }).then(res => {\r\n      dispatch({ type: POST_CART_SUCCESS, payload: res })\r\n      return res\r\n    }).catch(error => {\r\n      dispatch({ type: POST_CART_FAIL, payload: { error } })\r\n      return error\r\n    })\r\n  }\r\n}\r\n\r\nexport const POST_CART_BEGIN = 'POST_CART_BEGIN'\r\nexport const POST_CART_SUCCESS = 'POST_CART_SUCCESS'\r\nexport const POST_CART_FAIL = 'POST_CART_FAIL'\r\n\r\nexport const GET_CART_BY_USERID_BEGIN = 'GET_CART_BY_USERID_BEGIN'\r\nexport const GET_CART_BY_USERID_SUCCESS = 'GET_CART_BY_USERID_SUCCESS'\r\nexport const GET_CART_BY_USERID_FAIL = 'GET_CART_BY_USERID_FAIL'"]},"metadata":{},"sourceType":"module"}